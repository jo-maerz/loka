<div class="review-form">
  <form [formGroup]="reviewForm" (ngSubmit)="onSubmit()">
    <div>
      <label for="rating">Rating (1-5):</label>
      <select id="rating" formControlName="rating">
        <option *ngFor="let r of [1, 2, 3, 4, 5]" [value]="r">{{ r }}</option>
      </select>
      <div
        *ngIf="
          reviewForm.get('rating')?.invalid && reviewForm.get('rating')?.touched
        "
      >
        <small>Rating must be between 1 and 5.</small>
      </div>
    </div>

    <div>
      <label for="description">Description:</label>
      <textarea
        id="description"
        formControlName="description"
        rows="5"
      ></textarea>
      <div
        *ngIf="
          reviewForm.get('description')?.invalid &&
          reviewForm.get('description')?.touched
        "
      >
        <small
          >Description is required and must be less than 1000 characters.</small
        >
      </div>
    </div>

    <button type="submit" [disabled]="reviewForm.invalid">Submit Review</button>

    <div *ngIf="errorMessage" class="error">
      {{ errorMessage }}
    </div>
  </form>
</div>
